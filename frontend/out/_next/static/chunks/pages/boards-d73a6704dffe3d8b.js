(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{9356:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/boards",function(){return n(7594)}])},7594:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n(1527),s=n(2204),a=n(959),r=n(685),i=n.n(r),l=n(8248);let c=e=>{let{handleOnSubmit:t}=e,[n,s]=(0,a.useState)(""),[r,i]=(0,a.useState)(0),c=async e=>{e.preventDefault(),console.log("DISTANCE AND NAME",r,n);try{let e=await (0,l.DC)();console.log("RESULT:",e);let o=e.filter(e=>e.distance<=r&&e.name.includes(n));console.log("DATA:",o),t(o)}catch(e){console.error(e)}};return(0,o.jsxs)("form",{onSubmit:c,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,o.jsx)("input",{type:"text",id:"name",value:n,onChange:e=>s(e.target.value)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"distance",children:"Distance:"}),(0,o.jsx)("input",{type:"number",id:"distance",value:r,onChange:e=>i(e.target.value)})]}),(0,o.jsx)("button",{type:"submit",children:"Submit"})]})},u=()=>{let[e,t]=(0,a.useState)([]),[n,o]=(0,a.useState)(!1),[s,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{o(!0),(0,l.DC)().then(e=>{t(e),o(!1)}).catch(e=>{r(e),o(!1)})},[]),{boards:e,loading:n,error:s}},d=e=>{let[t,n]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(0,l.St)(e).then(n)},[]),t},p=()=>{let[e,t]=(0,a.useState)({}),[n,r]=(0,a.useState)(100);d(n);let{boards:l,loading:p,error:h}=u(),m=(0,a.useMemo)(()=>["places"],[]),f=t=>{if(0!==Object.keys(e).length&&e.id===t)return(0,o.jsx)(s.nx,{position:e.location,children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:e.name}),(0,o.jsx)("br",{}),(0,o.jsx)("p",{children:"Qu\xe9 onda el info window?"})]})})},g=(0,a.useMemo)(()=>({disableDefaultUI:!0,clickableIcons:!0,scrollwheel:!0}),[]),{isLoaded:_}=(0,s.Db)({googleMapsApiKey:"AIzaSyC1x10CZ9pr0r17_uOlni0kVFzSFMC8j_s",libraries:m});return _?(0,o.jsxs)("div",{className:i().homeWrapper,children:[(0,o.jsxs)("div",{className:i().sidebar,children:[(0,o.jsx)("p",{children:"This is Sidebar..."}),(0,o.jsx)(c,{handleOnSubmit:console.log})]}),(0,o.jsx)(s.b6,{options:g,zoom:14,center:{lat:27.672932021393862,lng:85.31184012689732},mapTypeId:google.maps.MapTypeId.ROADMAP,mapContainerStyle:{width:"800px",height:"800px"},onLoad:()=>console.log("Map Component Loaded..."),children:l.filter(e=>e.location).map(e=>(0,o.jsx)(s.Jx,{position:e.location,onClick:()=>{t(e)},children:f(e.id)},e.id))})]}):(0,o.jsx)("p",{children:"Loading..."})};var h=p},8248:function(e,t,n){"use strict";n.d(t,{DC:function(){return r},St:function(){return i}});var o=n(9063);let s="http://localhost:3001",a={getBoards:()=>fetch("".concat(s,"/boards/")).then(e=>e.json()).then(e=>e.map(e=>({...e,distance:(0,o.H)(0,100)}))),createBoard:(e,t)=>fetch("".concat(s,"/boards/"),{headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,location:t})}),createCompany:e=>fetch("".concat(s,"/companies/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})}),getLoggedUser:()=>fetch("".concat(s,"/users/me")).then(e=>e.json())},r=()=>a.getBoards(),i=e=>a.getBoards().then(t=>t.filter(t=>t.distance<=e))},685:function(e){e.exports={homeWrapper:"Home_homeWrapper__XHNZ5",sidebar:"Home_sidebar__OzIbz",autocompleteWrapper:"Home_autocompleteWrapper__RWAZg",autocompleteInput:"Home_autocompleteInput__KGe4R",suggestionWrapper:"Home_suggestionWrapper__WYB75"}}},function(e){e.O(0,[100,774,888,179],function(){return e(e.s=9356)}),_N_E=e.O()}]);